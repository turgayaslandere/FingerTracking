<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Doxygen: ship_it/DTrackSDK_v2.1.0/Compatibility/DTrackLib/DTracklib.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
  <div class="navpath"><a class="el" href="dir_9c24268f95786bdec4a5ac89e3a0a215.html">ship_it</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_47b6f032d025ae6cc5b586fbaed3c876.html">DTrackSDK_v2.1.0</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_5d3c935c02734a9cfd37c3495b91bd0b.html">Compatibility</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_dde8fbc24f4d398fc1b5bf45c7dad175.html">DTrackLib</a>
  </div>
<div class="contents">
<h1>DTracklib.cpp</h1><a href="ship__it_2_d_track_s_d_k__v2_81_80_2_compatibility_2_d_track_lib_2_d_tracklib_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* dtracklib: C++ source file, A.R.T. GmbH 25.8.00-13.5.11</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * dtracklib: functions to receive and process DTrack UDP packets (ASCII protocol)</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright (C) 2000-2011, Advanced Realtime Tracking GmbH</span>
<a name="l00005"></a>00005 <span class="comment"> * </span>
<a name="l00006"></a>00006 <span class="comment"> * This library is free software; you can redistribute it and/or</span>
<a name="l00007"></a>00007 <span class="comment"> * modify it under the terms of the GNU Lesser General Public</span>
<a name="l00008"></a>00008 <span class="comment"> * License as published by the Free Software Foundation; either</span>
<a name="l00009"></a>00009 <span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00010"></a>00010 <span class="comment"> * </span>
<a name="l00011"></a>00011 <span class="comment"> * This library is distributed in the hope that it will be useful,</span>
<a name="l00012"></a>00012 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00014"></a>00014 <span class="comment"> * Lesser General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment"> * </span>
<a name="l00016"></a>00016 <span class="comment"> * You should have received a copy of the GNU Lesser General Public</span>
<a name="l00017"></a>00017 <span class="comment"> * License along with this library; if not, write to the Free Software</span>
<a name="l00018"></a>00018 <span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<a name="l00019"></a>00019 <span class="comment"> *</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> * Version v2.0.2</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> * Purpose:</span>
<a name="l00024"></a>00024 <span class="comment"> *   - receives DTrack UDP packets (ASCII protocol) and converts them into easier to handle data</span>
<a name="l00025"></a>00025 <span class="comment"> *   - sends DTrack remote commands (UDP)</span>
<a name="l00026"></a>00026 <span class="comment"> *   - DTrack network protocol due to: 'Technical Appendix DTrack v1.23 (April 6, 2005)'</span>
<a name="l00027"></a>00027 <span class="comment"> *   - for DTrack versions v1.16 - v1.23 (and compatible versions)</span>
<a name="l00028"></a>00028 <span class="comment"> *   - tested under Linux, Irix, Windows NT 4.0, Windows 2000, Windows XP</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> * $Id: DTracklib.cpp,v 1.10 2011/07/06 08:52:15 sebastianz Exp $</span>
<a name="l00031"></a>00031 <span class="comment"> */</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include "<a class="code" href="ship__it_2_d_track_s_d_k__v2_81_80_2_compatibility_2_d_track_lib_2_d_tracklib_8hpp.html">DTracklib.hpp</a>"</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="keyword">using namespace </span>std;
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 
<a name="l00050"></a>00050 <a class="code" href="class_d_tracklib.html#bc47b80ab8dd53b02fbf46f015bea8f1" title="Constructor.">DTracklib::DTracklib</a>(
<a name="l00051"></a>00051         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> udpport, <span class="keywordtype">char</span>* remote_ip, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> remote_port,
<a name="l00052"></a>00052         <span class="keywordtype">int</span> udpbufsize, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> udptimeout_us
<a name="l00053"></a>00053 )
<a name="l00054"></a>00054 {
<a name="l00055"></a>00055         std::string s = <span class="stringliteral">""</span>;
<a name="l00056"></a>00056         <span class="keywordflow">if</span> (remote_ip != NULL)
<a name="l00057"></a>00057                 s = remote_ip;
<a name="l00058"></a>00058         sdk = <span class="keyword">new</span> <a class="code" href="class_d_track_s_d_k.html" title="DTrack SDK main class.">DTrackSDK</a>(s, remote_port, udpport, <a class="code" href="class_d_track_s_d_k.html#6abd48028f21d50dbea3411d3a93e1c33e0be7324f4db535eaffaa7051a60828" title="DTrack system.">DTrackSDK::SYS_DTRACK</a>, udpbufsize, udptimeout_us, udptimeout_us);
<a name="l00059"></a>00059         act_nbodycal = -1;
<a name="l00060"></a>00060         act_nbody = act_nflystick = act_nmeatool = act_nmarker = act_nglove = 0;
<a name="l00061"></a>00061 }
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 
<a name="l00067"></a>00067 <a class="code" href="class_d_tracklib.html#6b83355be56cb2a13a91632d00978e03" title="Destructor.">DTracklib::~DTracklib</a>()
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069         <span class="keyword">delete</span> sdk;
<a name="l00070"></a>00070 }
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 
<a name="l00078"></a>00078 <span class="keywordtype">bool</span> <a class="code" href="class_d_tracklib.html#293d167ec467d2953db28f53a841f987" title="Check if initialization was successfull.">DTracklib::valid</a>()
<a name="l00079"></a>00079 {
<a name="l00080"></a>00080         <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#c343b77d7e119f160b8caff311a3b506" title="Is UDP socket open to receive tracking data on local machine? An open socket is needed...">isLocalDataPortValid</a>();
<a name="l00081"></a>00081 }
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 
<a name="l00089"></a>00089 <span class="keywordtype">bool</span> <a class="code" href="class_d_tracklib.html#20fd95d767d583f332b3c79f0dd6c021" title="Check last receive/send error (timeout).">DTracklib::timeout</a>()
<a name="l00090"></a>00090 {
<a name="l00091"></a>00091         <span class="keywordflow">return</span> (sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#e468d2d611b5c5698219ecc40ff13901" title="Get last error as error code (data transmission).">getLastDataError</a>() == <a class="code" href="class_d_track_s_d_k.html#62ccf5a980ff54adcd1c4d8c92e371efe87872de6482fb7512aaa716fffb7483" title="timeout occured">DTrackSDK::ERR_TIMEOUT</a>);
<a name="l00092"></a>00092 }
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 
<a name="l00100"></a>00100 <span class="keywordtype">bool</span> <a class="code" href="class_d_tracklib.html#3edf026f203d56db268d5d10b9e6a696" title="Check last receive/send error (udp error).">DTracklib::udperror</a>()
<a name="l00101"></a>00101 {
<a name="l00102"></a>00102         <span class="keywordflow">return</span> (sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#e468d2d611b5c5698219ecc40ff13901" title="Get last error as error code (data transmission).">getLastDataError</a>() == <a class="code" href="class_d_track_s_d_k.html#62ccf5a980ff54adcd1c4d8c92e371ef4012cb8f6bd57328f844899915a16ae9" title="network error">DTrackSDK::ERR_NET</a>);
<a name="l00103"></a>00103 }
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 
<a name="l00111"></a>00111 <span class="keywordtype">bool</span> <a class="code" href="class_d_tracklib.html#f17f0ed138600d4a0341d5a6ff641604" title="Check last receive/send error (parser).">DTracklib::parseerror</a>()
<a name="l00112"></a>00112 {
<a name="l00113"></a>00113         <span class="keywordflow">return</span> (sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#e468d2d611b5c5698219ecc40ff13901" title="Get last error as error code (data transmission).">getLastDataError</a>() == <a class="code" href="class_d_track_s_d_k.html#62ccf5a980ff54adcd1c4d8c92e371ef909a1c3a2cfc7b014290357b399c4997" title="error while parsing command">DTrackSDK::ERR_PARSE</a>);
<a name="l00114"></a>00114 }
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 
<a name="l00122"></a>00122 <span class="keywordtype">bool</span> <a class="code" href="class_d_tracklib.html#e8d262964f2f2cc28bfff776372f3e11" title="Receive and process one DTrack data packet (UDP; ASCII protocol).">DTracklib::receive</a>()
<a name="l00123"></a>00123 {
<a name="l00124"></a>00124         <span class="keywordflow">if</span> (!sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#0066936a51ef41542a13e7b60a3ed350" title="Receive and process one tracking data packet.">receive</a>())
<a name="l00125"></a>00125                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00126"></a>00126         <span class="comment">// copy body data</span>
<a name="l00127"></a>00127         act_nbody = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#bbfa9bba2e52b39d2ff6370c78a98103" title="Get number of calibrated standard bodies (as far as known).">getNumBody</a>();
<a name="l00128"></a>00128         act_body.resize(act_nbody);
<a name="l00129"></a>00129         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; act_nbody; i++)
<a name="l00130"></a>00130         {
<a name="l00131"></a>00131                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__d.html" title="Standard body data (6DOF, double).">DTrack_Body_Type_d</a> *dtbt = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#ced467d8346c063f925ff99f09d65613" title="Get standard body data.">getBody</a>(i);
<a name="l00132"></a>00132                 <a class="code" href="structdtracklib__body__type.html">dtracklib_body_type</a> *dtbt2 = &amp;act_body.at(i);
<a name="l00133"></a>00133                 dtbt2-&gt;<a class="code" href="structdtracklib__body__type.html#dd0f63006724ff4330e6f26d16c9ecbf" title="id number">id</a> = dtbt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__d.html#8726fadd444fe2fd89260827bc8fda49" title="id number (starting with 0)">id</a>;
<a name="l00134"></a>00134                 dtbt2-&gt;<a class="code" href="structdtracklib__body__type.html#48cc8c7358a57caf939ebf1ca587493d" title="quality (0 &amp;lt;= qu &amp;lt;= 1)">quality</a> = (float)dtbt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__d.html#a75a30ca6464997e959239340fb92782" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a>;
<a name="l00135"></a>00135                 for (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00136"></a>00136                         dtbt2-&gt;<a class="code" href="structdtracklib__body__type.html#63e99120bf7a4db2219ebfbd48dfbb6b" title="location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtbt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__d.html#2afbe2e7d1a3a6321f7e0add0e49ef4d" title="location (in mm)">loc</a>[j];
<a name="l00137"></a>00137                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00138"></a>00138                         dtbt2-&gt;<a class="code" href="structdtracklib__body__type.html#4558700dcb6f35714947921c38ff478b" title="orientation angles (eta, theta, phi; in deg); not used">ang</a>[j] = 0;
<a name="l00139"></a>00139                 for (<span class="keywordtype">int</span> j = 0; j &lt; 9; j++)
<a name="l00140"></a>00140                         dtbt2-&gt;<a class="code" href="structdtracklib__body__type.html#bc9504f5b1e8771007ee3d36c6bb6f8a" title="rotation matrix (column-wise)">rot</a>[j] = (<span class="keywordtype">float</span>)dtbt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__d.html#2f719c84b5da6ae28af6267ba7506cdd" title="rotation matrix (column-wise)">rot</a>[j];
<a name="l00141"></a>00141         }
<a name="l00142"></a>00142         <span class="comment">// copy flystick data</span>
<a name="l00143"></a>00143         act_nflystick = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#63ff9242cae145d0ca946222fb59118d" title="Get number of calibrated Flysticks.">getNumFlyStick</a>();
<a name="l00144"></a>00144         act_flystick.resize(act_nflystick);
<a name="l00145"></a>00145         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; act_nflystick; i++)
<a name="l00146"></a>00146         {
<a name="l00147"></a>00147                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html" title="A.R.T.Flystick data (6DOF + buttons, double).">DTrack_FlyStick_Type_d</a> *dtfst = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#8f9f93c81f1031d288ab9563bd1137d7" title="Get Flystick data.">getFlyStick</a>(i);
<a name="l00148"></a>00148                 <a class="code" href="structdtracklib__flystick__type.html">dtracklib_flystick_type</a> *dtfst2 = &amp;act_flystick.at(i);
<a name="l00149"></a>00149                 dtfst2-&gt;<a class="code" href="structdtracklib__flystick__type.html#92e2c442d74cc7eddf1f8f6646945dfa" title="id number">id</a> = dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#43308a2f26feb128213ac380dc605143" title="id number (starting with 0)">id</a>;
<a name="l00150"></a>00150                 dtfst2-&gt;<a class="code" href="structdtracklib__flystick__type.html#6fc56ed8f108d3198006b28f402a4640" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = (float)dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#662f6e671cee2530e75487b7640ea8e4" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a>;
<a name="l00151"></a>00151                 dtfst2-&gt;<a class="code" href="structdtracklib__flystick__type.html#84a1224127f093908f3c196d856c33d7" title="pressed buttons (binary coded)">bt</a> = 0;
<a name="l00152"></a>00152                 for (<span class="keywordtype">int</span> j = 0; j &lt; min(dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#001604b379afe43319eb0ed34b97cc6a" title="number of buttons">num_button</a>, <a class="code" href="_lib_2_d_track_data_types_8h.html#840ae7d5339b542ace1cb5062d79089b" title="FlyStick data: maximum number of buttons.">DTRACK_FLYSTICK_MAX_BUTTON</a>); j++)
<a name="l00153"></a>00153                 {
<a name="l00154"></a>00154                         <span class="keywordflow">if</span> (dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#90fb5e28362fadea235075e1df471f9a" title="button state (1 pressed, 0 not pressed): 0 front, 1..n-1 right to left">button</a>[j] == 1)
<a name="l00155"></a>00155                                 dtfst2-&gt;<a class="code" href="structdtracklib__flystick__type.html#84a1224127f093908f3c196d856c33d7" title="pressed buttons (binary coded)">bt</a> |= (dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#90fb5e28362fadea235075e1df471f9a" title="button state (1 pressed, 0 not pressed): 0 front, 1..n-1 right to left">button</a>[j] &lt;&lt; j);
<a name="l00156"></a>00156                 }
<a name="l00157"></a>00157                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00158"></a>00158                         dtfst2-&gt;<a class="code" href="structdtracklib__flystick__type.html#9213a02913fabf45f6ca0026b6904aa1" title="location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#d57fcd5f54bc7f68d28544736d42ce40" title="location (in mm)">loc</a>[j];
<a name="l00159"></a>00159                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00160"></a>00160                         dtfst2-&gt;<a class="code" href="structdtracklib__flystick__type.html#292dea2fb7833f3d34aed1ea94dc672a" title="orientation angles (eta, theta, phi; in deg); not used">ang</a>[j] = 0;
<a name="l00161"></a>00161                 for (<span class="keywordtype">int</span> j = 0; j &lt; 9; j++)
<a name="l00162"></a>00162                         dtfst2-&gt;<a class="code" href="structdtracklib__flystick__type.html#221bc0b4bbcf4deff711ebae47a4086c" title="rotation matrix (column-wise)">rot</a>[j] = (<span class="keywordtype">float</span>)dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#965ef5cc26b6db175664bf0557fe1c24" title="rotation matrix (column-wise)">rot</a>[j];
<a name="l00163"></a>00163         }
<a name="l00164"></a>00164         <span class="comment">// copy measurement tool data</span>
<a name="l00165"></a>00165         act_nmeatool = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#89a94790ddc9d7eb7849c6eb837345b3" title="Get number of calibrated measurement tools.">getNumMeaTool</a>();
<a name="l00166"></a>00166         act_meatool.resize(act_nmeatool);
<a name="l00167"></a>00167         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; act_nmeatool; i++)
<a name="l00168"></a>00168         {
<a name="l00169"></a>00169                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html" title="Measurement tool data (6DOF + buttons, double).">DTrack_MeaTool_Type_d</a> *dtmtt = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#228c5f83c54fcdff81633d87bdbba6f4" title="Get measurement tool data.">getMeaTool</a>(i);
<a name="l00170"></a>00170                 <a class="code" href="structdtracklib__meatool__type.html">dtracklib_meatool_type</a> *dtmtt2 = &amp;act_meatool.at(i);
<a name="l00171"></a>00171                 dtmtt2-&gt;<a class="code" href="structdtracklib__meatool__type.html#12add5dcdb30f22dd375403364fa7336" title="id number">id</a> = dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#955edf61e5e4b0149567a7d1e8976326" title="id number (starting with 0)">id</a>;
<a name="l00172"></a>00172                 dtmtt2-&gt;<a class="code" href="structdtracklib__meatool__type.html#e609fc13b1a7bdfd1ed5b2df10e7ce40" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = (float)dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#b40454c4141106f3a237d7185d1e6c28" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a>;
<a name="l00173"></a>00173                 dtmtt2-&gt;<a class="code" href="structdtracklib__meatool__type.html#6d2e5d7d65dcc971958dd4ebbe241673" title="pressed buttons (binary coded)">bt</a> = 0;
<a name="l00174"></a>00174                 for (<span class="keywordtype">int</span> j = 0; j &lt; min(dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#eef8d0b155e79ba0701f9c6fc0e1f753" title="number of buttons">num_button</a>, <a class="code" href="_lib_2_d_track_data_types_8h.html#840ae7d5339b542ace1cb5062d79089b" title="FlyStick data: maximum number of buttons.">DTRACK_FLYSTICK_MAX_BUTTON</a>); j++)
<a name="l00175"></a>00175                 {
<a name="l00176"></a>00176                         <span class="keywordflow">if</span> (dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#8591d728805935050489bfc40329e28b" title="button state (1 pressed, 0 not pressed)">button</a>[j] == 1)
<a name="l00177"></a>00177                                 dtmtt2-&gt;<a class="code" href="structdtracklib__meatool__type.html#6d2e5d7d65dcc971958dd4ebbe241673" title="pressed buttons (binary coded)">bt</a> |= (dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#8591d728805935050489bfc40329e28b" title="button state (1 pressed, 0 not pressed)">button</a>[j] &lt;&lt; j);
<a name="l00178"></a>00178                 }
<a name="l00179"></a>00179                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00180"></a>00180                         dtmtt2-&gt;<a class="code" href="structdtracklib__meatool__type.html#e54ecd5e46278ee2f99c0a35c3a0a24b" title="location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#64fc92b0feb9a12110fc5346876ab65e" title="location (in mm)">loc</a>[j];
<a name="l00181"></a>00181                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 9; j++)
<a name="l00182"></a>00182                         dtmtt2-&gt;<a class="code" href="structdtracklib__meatool__type.html#494eefda62a748d56eb27ee28c26847c" title="rotation matrix (column-wise)">rot</a>[j] = (<span class="keywordtype">float</span>)dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#8739b908f1f28f7229bd0c453daad9a9" title="rotation matrix (column-wise)">rot</a>[j];
<a name="l00183"></a>00183         }
<a name="l00184"></a>00184         <span class="comment">// copy hand data</span>
<a name="l00185"></a>00185         act_nglove = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#930d95296ba7fe81ff5ad72c5f33ece9" title="Get number of calibrated Fingertracking hands (as far as known).">getNumHand</a>();
<a name="l00186"></a>00186         act_glove.resize(act_nglove);
<a name="l00187"></a>00187         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; act_nglove; i++)
<a name="l00188"></a>00188         {
<a name="l00189"></a>00189                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html" title="A.R.T.Fingertracking hand data (6DOF + fingers, double).">DTrack_Hand_Type_d</a> *dtht = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#98e585109d6c150249da6ca1983f3fc2" title="Get Fingertracking hand data.">getHand</a>(i);
<a name="l00190"></a>00190                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html" title="A.R.T.Fingertracking hand data (6DOF + fingers, float).">dtracklib_glove_type</a> *dtht2 = &amp;act_glove.at(i);
<a name="l00191"></a>00191                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#32e6c8dba22d9f3de50bd532f69f3ebd" title="id number (starting with 0)">id</a> = dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#dee098f364c513147eb85b4a83cd1f2d" title="id number (starting with 0)">id</a>;
<a name="l00192"></a>00192                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#0e47d9656b6c04087f7af6371451a91a" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = (float)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#308ec86d553cc0a2b13dfe800eb15966" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a>;
<a name="l00193"></a>00193                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#e7511c247a4a735995dd94ead3212aaa" title="left (0) or right (1) hand">lr</a> = dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#521d4ce97454f419f13efc494667e04a" title="left (0) or right (1) hand">lr</a>;
<a name="l00194"></a>00194                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#4fe7990638c9319d2987dbc125a975bd" title="number of fingers (maximum 5)">nfinger</a> = dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2bd9f3c566b0abf0cd8e0afe711db0c5" title="number of fingers (maximum 5)">nfinger</a>;
<a name="l00195"></a>00195                 for (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00196"></a>00196                         dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#f67cad29dff6587c75c533e87e39b785" title="back of the hand: location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#da661f39a64dd30132077d092d9006f6" title="back of the hand: location (in mm)">loc</a>[j];
<a name="l00197"></a>00197                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 9; j++)
<a name="l00198"></a>00198                         dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#6fb3dbe3d715ae40db7567254dadfa29" title="back of the hand: rotation matrix (column-wise)">rot</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#34f9e9a90498c51c6c1578957e8db906" title="back of the hand: rotation matrix (column-wise)">rot</a>[j];
<a name="l00199"></a>00199                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="_lib_2_d_track_data_types_8h.html#dcb90cb9233d7036a6da76b3748396b7" title="Fingertracking hand data: maximum number of fingers.">DTRACK_HAND_MAX_FINGER</a>; k++)
<a name="l00200"></a>00200                 {
<a name="l00201"></a>00201                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00202"></a>00202                                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#ddef79226db3041481bca341276dfa07" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#f67cad29dff6587c75c533e87e39b785" title="back of the hand: location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2571adc8e75d6f91449ccd35d9e0d1d2" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#da661f39a64dd30132077d092d9006f6" title="back of the hand: location (in mm)">loc</a>[j];
<a name="l00203"></a>00203                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 9; j++)
<a name="l00204"></a>00204                                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#ddef79226db3041481bca341276dfa07" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#6fb3dbe3d715ae40db7567254dadfa29" title="back of the hand: rotation matrix (column-wise)">rot</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2571adc8e75d6f91449ccd35d9e0d1d2" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#34f9e9a90498c51c6c1578957e8db906" title="back of the hand: rotation matrix (column-wise)">rot</a>[j];
<a name="l00205"></a>00205                         dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#ddef79226db3041481bca341276dfa07" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#00253049beea095e1546055ec8055b9e" title="radius of tip">radiustip</a> = (float)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2571adc8e75d6f91449ccd35d9e0d1d2" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#82525b413f8a65f180f8fbcd7a6072fc" title="radius of tip">radiustip</a>;
<a name="l00206"></a>00206                         for (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00207"></a>00207                                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#ddef79226db3041481bca341276dfa07" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#2fb8ee1a44e7524c882fdc9c52711de6" title="length of phalanxes; order: outermost, middle, innermost">lengthphalanx</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2571adc8e75d6f91449ccd35d9e0d1d2" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#1a77ce15f7e4e4f47847895661f84772" title="length of phalanxes; order: outermost, middle, innermost">lengthphalanx</a>[j];
<a name="l00208"></a>00208                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 2; j++)
<a name="l00209"></a>00209                                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#ddef79226db3041481bca341276dfa07" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#844c5997be19885de65f4e5bc14b7257" title="angle between phalanxes">anglephalanx</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2571adc8e75d6f91449ccd35d9e0d1d2" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#a73c9e067134f4dbf716f8d5ca973a30" title="angle between phalanxes">anglephalanx</a>[j];
<a name="l00210"></a>00210                 }
<a name="l00211"></a>00211         }
<a name="l00212"></a>00212         <span class="comment">// copy marker data</span>
<a name="l00213"></a>00213         act_nmarker = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#d30253ecbf974a67c3de4ef0f4fa5b2f" title="Get number of tracked single markers.">getNumMarker</a>();
<a name="l00214"></a>00214         act_marker.resize(act_nmarker);
<a name="l00215"></a>00215         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; act_nmarker; i++)
<a name="l00216"></a>00216         {
<a name="l00217"></a>00217                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__d.html" title="Single marker data (3DOF, double).">DTrack_Marker_Type_d</a> *dtmt = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#7095c9ba464b2e725ac08bbf0f57064a" title="Get single marker data.">getMarker</a>(i);
<a name="l00218"></a>00218                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html" title="Single marker data (3DOF, float).">dtracklib_marker_type</a> *dtmt2 = &amp;act_marker.at(i);
<a name="l00219"></a>00219                 dtmt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html#ab253639b12148efce9659b0544035a2" title="id number (starting with 1)">id</a> = dtmt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__d.html#e56b8ade90cdd348299ce09cc341649b" title="id number (starting with 1)">id</a>;
<a name="l00220"></a>00220                 dtmt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html#b3dc44889cf05a31a080863897015812" title="quality (0.0 &amp;lt;= qu &amp;lt;= 1.0; -1 not tracked)">quality</a> = (float)dtmt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__d.html#621deda03fb6a34cbfd01c5780961902" title="quality (0.0 &amp;lt;= qu &amp;lt;= 1.0; -1 not tracked)">quality</a>;
<a name="l00221"></a>00221                 for (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00222"></a>00222                         dtmt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html#c1b53ff3df025255465a4a52a5b7047e" title="location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtmt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__d.html#b416abda3674fa04f70cc55981893cdb" title="location (in mm)">loc</a>[j];
<a name="l00223"></a>00223         }
<a name="l00224"></a>00224         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00225"></a>00225 }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 
<a name="l00234"></a>00234 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_d_tracklib.html#bbc9ba4fce73acd38821652dd93049c5" title="Get frame counter.">DTracklib::get_framenr</a>()
<a name="l00235"></a>00235 {
<a name="l00236"></a>00236         <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#afd8e38dcacac72c5f4efd02de2d08a4" title="Get frame counter.">getFrameCounter</a>();
<a name="l00237"></a>00237 }
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 
<a name="l00246"></a>00246 <span class="keywordtype">double</span> <a class="code" href="class_d_tracklib.html#c5812515ef870312ac96f1fcbf7f4886" title="Get timestamp.">DTracklib::get_timestamp</a>()
<a name="l00247"></a>00247 {
<a name="l00248"></a>00248         <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#6be18e0424cb9e740474c1a5681269c4" title="Get timestamp.">getTimeStamp</a>();
<a name="l00249"></a>00249 }
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00257"></a>00257 <span class="keywordtype">int</span> <a class="code" href="class_d_tracklib.html#6d49642f93f4e35a1bf571ad9d9f7079" title="Get number of calibrated bodies.">DTracklib::get_nbodycal</a>()
<a name="l00258"></a>00258 {
<a name="l00259"></a>00259         <span class="keywordflow">return</span> act_nbodycal;
<a name="l00260"></a>00260 }
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 
<a name="l00269"></a>00269 <span class="keywordtype">int</span> <a class="code" href="class_d_tracklib.html#91964f9784b7cc4db19125a4b8ac9f51" title="Get number of standard bodies.">DTracklib::get_nbody</a>()
<a name="l00270"></a>00270 {
<a name="l00271"></a>00271         <span class="keywordflow">return</span> act_nbody;
<a name="l00272"></a>00272 }
<a name="l00273"></a>00273 
<a name="l00274"></a>00274 
<a name="l00282"></a>00282 <a class="code" href="structdtracklib__body__type.html">dtracklib_body_type</a> <a class="code" href="class_d_tracklib.html#c0ec35349cbfa7c54b247e39e0897d7f" title="Get 6d data.">DTracklib::get_body</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)
<a name="l00283"></a>00283 {
<a name="l00284"></a>00284         <span class="keywordflow">if</span> ((<span class="keywordtype">id</span> &lt; 0)||(<span class="keywordtype">id</span> &gt;= act_nbody))
<a name="l00285"></a>00285         {
<a name="l00286"></a>00286                 <a class="code" href="structdtracklib__body__type.html">dtracklib_body_type</a> dummy;
<a name="l00287"></a>00287                 memset(&amp;dummy, 0, <span class="keyword">sizeof</span>(<a class="code" href="structdtracklib__body__type.html">dtracklib_body_type</a>));
<a name="l00288"></a>00288                 <span class="keywordflow">return</span> dummy;
<a name="l00289"></a>00289         }
<a name="l00290"></a>00290         <span class="keywordflow">return</span> act_body[id];
<a name="l00291"></a>00291 }
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 
<a name="l00300"></a>00300 <span class="keywordtype">int</span> <a class="code" href="class_d_tracklib.html#93b02c3391bf5b1baca4db41f842ef33" title="Get number of flysticks.">DTracklib::get_nflystick</a>()
<a name="l00301"></a>00301 {
<a name="l00302"></a>00302         <span class="keywordflow">return</span> act_nflystick;
<a name="l00303"></a>00303 }
<a name="l00304"></a>00304 
<a name="l00305"></a>00305 
<a name="l00313"></a>00313 <a class="code" href="structdtracklib__flystick__type.html">dtracklib_flystick_type</a> <a class="code" href="class_d_tracklib.html#20f98fdab08c2c6008162384ce441d5f" title="Get 6df data.">DTracklib::get_flystick</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)
<a name="l00314"></a>00314 {
<a name="l00315"></a>00315         <span class="keywordflow">if</span> ((<span class="keywordtype">id</span> &lt; 0)||(<span class="keywordtype">id</span> &gt;= act_nflystick))
<a name="l00316"></a>00316         {
<a name="l00317"></a>00317                 <a class="code" href="structdtracklib__flystick__type.html">dtracklib_flystick_type</a> dummy;
<a name="l00318"></a>00318                 memset(&amp;dummy, 0, <span class="keyword">sizeof</span>(<a class="code" href="structdtracklib__flystick__type.html">dtracklib_flystick_type</a>));
<a name="l00319"></a>00319                 <span class="keywordflow">return</span> dummy;
<a name="l00320"></a>00320         }
<a name="l00321"></a>00321         <span class="keywordflow">return</span> act_flystick[id];
<a name="l00322"></a>00322 }
<a name="l00323"></a>00323 
<a name="l00324"></a>00324 
<a name="l00331"></a>00331 <span class="keywordtype">int</span> <a class="code" href="class_d_tracklib.html#d7e60dcb3269be17619181127476b517" title="Get number of measurement tools.">DTracklib::get_nmeatool</a>()
<a name="l00332"></a>00332 {
<a name="l00333"></a>00333         <span class="keywordflow">return</span> act_nmeatool;
<a name="l00334"></a>00334 }
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 
<a name="l00344"></a>00344 <a class="code" href="structdtracklib__meatool__type.html">dtracklib_meatool_type</a> <a class="code" href="class_d_tracklib.html#1c0b890fe4dbf789453fcd8b07c77c11" title="Get 6dmt data.">DTracklib::get_meatool</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)
<a name="l00345"></a>00345 {
<a name="l00346"></a>00346         <span class="keywordflow">if</span>(id &lt; 0 || id &gt;= act_nmeatool){
<a name="l00347"></a>00347                 <a class="code" href="structdtracklib__meatool__type.html">dtracklib_meatool_type</a> dummy;
<a name="l00348"></a>00348                 memset(&amp;dummy, 0, <span class="keyword">sizeof</span>(<a class="code" href="structdtracklib__meatool__type.html">dtracklib_meatool_type</a>));
<a name="l00349"></a>00349                 <span class="keywordflow">return</span> dummy;
<a name="l00350"></a>00350         }
<a name="l00351"></a>00351         
<a name="l00352"></a>00352         <span class="keywordflow">return</span> act_meatool[id];
<a name="l00353"></a>00353 }
<a name="l00354"></a>00354 
<a name="l00355"></a>00355 
<a name="l00362"></a>00362 <span class="keywordtype">int</span> <a class="code" href="class_d_tracklib.html#3d06bc0656fbf8bf9f5b4a04da79ab4a" title="Get number of fingertracking hands.">DTracklib::get_nglove</a>()
<a name="l00363"></a>00363 {
<a name="l00364"></a>00364         <span class="keywordflow">return</span> act_nglove;
<a name="l00365"></a>00365 }
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 
<a name="l00375"></a>00375 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html" title="A.R.T.Fingertracking hand data (6DOF + fingers, float).">dtracklib_glove_type</a> <a class="code" href="class_d_tracklib.html#43f03e93ccc79186d4520526ee85aa33" title="Get gl data.">DTracklib::get_glove</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)
<a name="l00376"></a>00376 {
<a name="l00377"></a>00377         <span class="keywordflow">if</span>(id &lt; 0 || id &gt;= act_nglove){
<a name="l00378"></a>00378                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html" title="A.R.T.Fingertracking hand data (6DOF + fingers, float).">dtracklib_glove_type</a> dummy;
<a name="l00379"></a>00379                 memset(&amp;dummy, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html" title="A.R.T.Fingertracking hand data (6DOF + fingers, float).">dtracklib_glove_type</a>));
<a name="l00380"></a>00380                 <span class="keywordflow">return</span> dummy;
<a name="l00381"></a>00381         }
<a name="l00382"></a>00382         
<a name="l00383"></a>00383         <span class="keywordflow">return</span> act_glove[id];
<a name="l00384"></a>00384 }
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 
<a name="l00393"></a>00393 <span class="keywordtype">int</span> <a class="code" href="class_d_tracklib.html#f654aa8af5860451d5e82cc09ddaf8b4" title="Get number of single markers.">DTracklib::get_nmarker</a>()
<a name="l00394"></a>00394 {
<a name="l00395"></a>00395         <span class="keywordflow">return</span> act_nmarker;
<a name="l00396"></a>00396 }
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 
<a name="l00406"></a>00406 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html" title="Single marker data (3DOF, float).">dtracklib_marker_type</a> <a class="code" href="class_d_tracklib.html#a12f3f55d25140a4dfd5c0d4c6de2483" title="Get 3d data.">DTracklib::get_marker</a>(<span class="keywordtype">int</span> index)
<a name="l00407"></a>00407 {
<a name="l00408"></a>00408         <span class="keywordflow">if</span>(index &lt; 0 || index &gt;= act_nmarker){
<a name="l00409"></a>00409                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html" title="Single marker data (3DOF, float).">dtracklib_marker_type</a> dummy;
<a name="l00410"></a>00410                 memset(&amp;dummy, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html" title="Single marker data (3DOF, float).">dtracklib_marker_type</a>));
<a name="l00411"></a>00411                 <span class="keywordflow">return</span> dummy;
<a name="l00412"></a>00412         }
<a name="l00413"></a>00413         <span class="keywordflow">return</span> act_marker[index];
<a name="l00414"></a>00414 }
<a name="l00415"></a>00415 
<a name="l00416"></a>00416 
<a name="l00425"></a>00425 <span class="keywordtype">bool</span> <a class="code" href="class_d_tracklib.html#54a1ef804bc576caf5737eba4b2fe346" title="Send one remote control command (UDP; ASCII protocol) to DTrack.">DTracklib::send</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> cmd, <span class="keywordtype">int</span> val)
<a name="l00426"></a>00426 {
<a name="l00427"></a>00427         <span class="keywordflow">if</span> (!sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#c343b77d7e119f160b8caff311a3b506" title="Is UDP socket open to receive tracking data on local machine? An open socket is needed...">isLocalDataPortValid</a>())
<a name="l00428"></a>00428                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00429"></a>00429         std::stringstream c;
<a name="l00430"></a>00430         c &lt;&lt; <span class="stringliteral">"dtrack "</span>;
<a name="l00431"></a>00431         <span class="keywordflow">switch</span>(cmd){
<a name="l00432"></a>00432                 <span class="keywordflow">case</span> <a class="code" href="_compatibility_2_d_track_lib_2_d_tracklib_8hpp.html#51dae95e5a2f5477e550af8f660c259b">DTRACKLIB_CMD_CAMERAS_OFF</a>:
<a name="l00433"></a>00433                         c &lt;&lt; <span class="stringliteral">"10 0"</span>;
<a name="l00434"></a>00434                         <span class="keywordflow">break</span>;
<a name="l00435"></a>00435                 <span class="keywordflow">case</span> <a class="code" href="_compatibility_2_d_track_lib_2_d_tracklib_8hpp.html#d0d3730944548ef212b8e70345183034">DTRACKLIB_CMD_CAMERAS_ON</a>:
<a name="l00436"></a>00436                         c &lt;&lt; <span class="stringliteral">"10 1"</span>;
<a name="l00437"></a>00437                         <span class="keywordflow">break</span>;
<a name="l00438"></a>00438                 <span class="keywordflow">case</span> <a class="code" href="_compatibility_2_d_track_lib_2_d_tracklib_8hpp.html#67513f795da2d26dbaf830c90ad604b4">DTRACKLIB_CMD_CAMERAS_AND_CALC_ON</a>:
<a name="l00439"></a>00439                         c &lt;&lt; <span class="stringliteral">"10 3"</span>;
<a name="l00440"></a>00440                         <span class="keywordflow">break</span>;
<a name="l00441"></a>00441                 <span class="keywordflow">case</span> <a class="code" href="_compatibility_2_d_track_lib_2_d_tracklib_8hpp.html#e455c85c1b5cb34ce04eeb162d7bbe22">DTRACKLIB_CMD_SEND_DATA</a>:
<a name="l00442"></a>00442                         c &lt;&lt; <span class="stringliteral">"31"</span>;
<a name="l00443"></a>00443                         <span class="keywordflow">break</span>;
<a name="l00444"></a>00444                 <span class="keywordflow">case</span> <a class="code" href="_compatibility_2_d_track_lib_2_d_tracklib_8hpp.html#edcf5f1b4bee70ccd6398b6074f13dfc">DTRACKLIB_CMD_STOP_DATA</a>:
<a name="l00445"></a>00445                         c &lt;&lt; <span class="stringliteral">"32"</span>;
<a name="l00446"></a>00446                         <span class="keywordflow">break</span>;
<a name="l00447"></a>00447                 <span class="keywordflow">case</span> <a class="code" href="_compatibility_2_d_track_lib_2_d_tracklib_8hpp.html#ac328dd084b86ba5127e5236c0908f35">DTRACKLIB_CMD_SEND_N_DATA</a>:
<a name="l00448"></a>00448                         c &lt;&lt; <span class="stringliteral">"33 "</span> &lt;&lt; val;
<a name="l00449"></a>00449                         <span class="keywordflow">break</span>;
<a name="l00450"></a>00450                 <span class="keywordflow">default</span>:
<a name="l00451"></a>00451                         <span class="keywordflow">return</span> 0;
<a name="l00452"></a>00452         }
<a name="l00453"></a>00453         sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(c.str());
<a name="l00454"></a>00454         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00455"></a>00455 }
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jan 27 09:47:31 2012 for Doxygen by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
