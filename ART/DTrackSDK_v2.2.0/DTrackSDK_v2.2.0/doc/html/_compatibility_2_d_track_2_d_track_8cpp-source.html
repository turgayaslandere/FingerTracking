<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Doxygen: Compatibility/DTrack/DTrack.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
  <div class="navpath"><a class="el" href="dir_b7ef8bd1150543ea81c96669d4f70baa.html">Compatibility</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_d5f1f3e51f70147966c44bf305dcc236.html">DTrack</a>
  </div>
<div class="contents">
<h1>DTrack.cpp</h1><a href="_compatibility_2_d_track_2_d_track_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001  <span class="comment">/* DTrackSDK: C++ source file, A.R.T. GmbH 21.4.05-13.5.11</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * DTrack: functions to receive and process DTrack UDP packets (ASCII protocol)</span>
<a name="l00004"></a>00004 <span class="comment"> * Copyright (C) 2005-2011, Advanced Realtime Tracking GmbH</span>
<a name="l00005"></a>00005 <span class="comment"> * </span>
<a name="l00006"></a>00006 <span class="comment"> * This library is free software; you can redistribute it and/or</span>
<a name="l00007"></a>00007 <span class="comment"> * modify it under the terms of the GNU Lesser General Public</span>
<a name="l00008"></a>00008 <span class="comment"> * License as published by the Free Software Foundation; either</span>
<a name="l00009"></a>00009 <span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00010"></a>00010 <span class="comment"> * </span>
<a name="l00011"></a>00011 <span class="comment"> * This library is distributed in the hope that it will be useful,</span>
<a name="l00012"></a>00012 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00013"></a>00013 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00014"></a>00014 <span class="comment"> * Lesser General Public License for more details.</span>
<a name="l00015"></a>00015 <span class="comment"> * </span>
<a name="l00016"></a>00016 <span class="comment"> * You should have received a copy of the GNU Lesser General Public</span>
<a name="l00017"></a>00017 <span class="comment"> * License along with this library; if not, write to the Free Software</span>
<a name="l00018"></a>00018 <span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<a name="l00019"></a>00019 <span class="comment"> *</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> * Version v2.0.2</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> * Purpose:</span>
<a name="l00024"></a>00024 <span class="comment"> *  - receives DTrack UDP packets (ASCII protocol) and converts them into easier to handle data</span>
<a name="l00025"></a>00025 <span class="comment"> *  - sends DTrack remote commands (UDP)</span>
<a name="l00026"></a>00026 <span class="comment"> *  - DTrack network protocol due to: 'Technical Appendix DTrack v1.24 (December 19, 2006)'</span>
<a name="l00027"></a>00027 <span class="comment"> *  - for DTrack versions v1.16 - v1.24 (and compatible versions)</span>
<a name="l00028"></a>00028 <span class="comment"> *  - tested under Linux (gcc) and MS Windows 2000/XP (MS Visual C++)</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> *</span>
<a name="l00031"></a>00031 <span class="comment"> * $Id: DTrack.cpp,v 1.8 2011/07/06 08:52:15 sebastianz Exp $</span>
<a name="l00032"></a>00032 <span class="comment"> */</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="preprocessor">#include "<a class="code" href="_compatibility_2_d_track_2_d_track_8hpp.html">DTrack.hpp</a>"</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00038"></a>00038 
<a name="l00048"></a><a class="code" href="class_d_track.html#c6dc6bb9984e5c420b1d00b2a5f101d7">00048</a> <a class="code" href="class_d_track.html#c6dc6bb9984e5c420b1d00b2a5f101d7" title="Constructor.">DTrack::DTrack</a>(
<a name="l00049"></a>00049         <span class="keywordtype">int</span> data_port, <span class="keyword">const</span> <span class="keywordtype">char</span>* remote_host, <span class="keywordtype">int</span> remote_port,
<a name="l00050"></a>00050         <span class="keywordtype">int</span> data_bufsize, <span class="keywordtype">int</span> data_timeout_us
<a name="l00051"></a>00051 )
<a name="l00052"></a>00052 {
<a name="l00053"></a>00053         std::string s = <span class="stringliteral">""</span>;
<a name="l00054"></a>00054         <span class="keywordflow">if</span> (remote_host != NULL)
<a name="l00055"></a>00055                 s = remote_host;
<a name="l00056"></a>00056         remoteCameras = <span class="keyword">false</span>;
<a name="l00057"></a>00057         remoteTracking = <span class="keyword">true</span>;
<a name="l00058"></a>00058         remoteSending = <span class="keyword">true</span>;
<a name="l00059"></a>00059         sdk = <span class="keyword">new</span> <a class="code" href="class_d_track_s_d_k.html" title="DTrack SDK main class.">DTrackSDK</a>(s, remote_port, data_port, <a class="code" href="class_d_track_s_d_k.html#6abd48028f21d50dbea3411d3a93e1c3689f1885ddff8950ffd3bade00bfa9af" title="unknown system">DTrackSDK::SYS_DTRACK_UNKNOWN</a>, data_bufsize, data_timeout_us, data_timeout_us);
<a name="l00060"></a>00060 }
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 
<a name="l00066"></a><a class="code" href="class_d_track.html#ea4563ccfb8e18078d9efead33440e29">00066</a> <a class="code" href="class_d_track.html#ea4563ccfb8e18078d9efead33440e29" title="Destructor.">DTrack::~DTrack</a>(<span class="keywordtype">void</span>)
<a name="l00067"></a>00067 {
<a name="l00068"></a>00068         <span class="keyword">delete</span> sdk;
<a name="l00069"></a>00069 }
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 
<a name="l00077"></a><a class="code" href="class_d_track.html#0ee909d3ec98043651445825928dd6a1">00077</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_track.html#0ee909d3ec98043651445825928dd6a1" title="Check if initialization was successfull.">DTrack::valid</a>()
<a name="l00078"></a>00078 {
<a name="l00079"></a>00079         <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#c343b77d7e119f160b8caff311a3b506" title="Is UDP socket open to receive tracking data on local machine? An open socket is needed...">isLocalDataPortValid</a>();
<a name="l00080"></a>00080 }
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 
<a name="l00088"></a><a class="code" href="class_d_track.html#eedc32071486fbc258059f894a90a72a">00088</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_track.html#eedc32071486fbc258059f894a90a72a" title="Check last receive/send error (timeout).">DTrack::timeout</a>()
<a name="l00089"></a>00089 {
<a name="l00090"></a>00090         <span class="keywordflow">return</span> (sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#e468d2d611b5c5698219ecc40ff13901" title="Get last error as error code (data transmission).">getLastDataError</a>() == <a class="code" href="class_d_track_s_d_k.html#62ccf5a980ff54adcd1c4d8c92e371efe87872de6482fb7512aaa716fffb7483" title="timeout occured">DTrackSDK::ERR_TIMEOUT</a>);
<a name="l00091"></a>00091 }
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 
<a name="l00099"></a><a class="code" href="class_d_track.html#e06252ae33c18e12afa44cf4b4b409ca">00099</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_track.html#e06252ae33c18e12afa44cf4b4b409ca" title="Check last receive/send error (udp error).">DTrack::udperror</a>()
<a name="l00100"></a>00100 {
<a name="l00101"></a>00101         <span class="keywordflow">return</span> (sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#e468d2d611b5c5698219ecc40ff13901" title="Get last error as error code (data transmission).">getLastDataError</a>() == <a class="code" href="class_d_track_s_d_k.html#62ccf5a980ff54adcd1c4d8c92e371ef4012cb8f6bd57328f844899915a16ae9" title="network error">DTrackSDK::ERR_NET</a>);
<a name="l00102"></a>00102 }
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 
<a name="l00110"></a><a class="code" href="class_d_track.html#af7be3b3f8d3b13fd58c1bfe26cd0ed0">00110</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_track.html#af7be3b3f8d3b13fd58c1bfe26cd0ed0" title="Check last receive/send error (parser).">DTrack::parseerror</a>()
<a name="l00111"></a>00111 {
<a name="l00112"></a>00112         <span class="keywordflow">return</span> (sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#e468d2d611b5c5698219ecc40ff13901" title="Get last error as error code (data transmission).">getLastDataError</a>() == <a class="code" href="class_d_track_s_d_k.html#62ccf5a980ff54adcd1c4d8c92e371ef909a1c3a2cfc7b014290357b399c4997" title="error while parsing command">DTrackSDK::ERR_PARSE</a>);
<a name="l00113"></a>00113 }
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 
<a name="l00121"></a><a class="code" href="class_d_track.html#b000b49c556bd94835c6c671c272aa87">00121</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_track.html#b000b49c556bd94835c6c671c272aa87" title="Receive and process one DTrack data packet (UDP; ASCII protocol).">DTrack::receive</a>()
<a name="l00122"></a>00122 {
<a name="l00123"></a>00123         <span class="keywordflow">if</span> (!sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#0066936a51ef41542a13e7b60a3ed350" title="Receive and process one tracking data packet.">receive</a>())
<a name="l00124"></a>00124                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00125"></a>00125         <span class="comment">// copy body data</span>
<a name="l00126"></a>00126         act_num_body = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#bbfa9bba2e52b39d2ff6370c78a98103" title="Get number of calibrated standard bodies (as far as known).">getNumBody</a>();
<a name="l00127"></a>00127         act_body.resize(act_num_body);
<a name="l00128"></a>00128         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; act_num_body; i++)
<a name="l00129"></a>00129         {
<a name="l00130"></a>00130                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__d.html" title="Standard body data (6DOF, double).">DTrack_Body_Type_d</a> *dtbt = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#ced467d8346c063f925ff99f09d65613" title="Get standard body data.">getBody</a>(i);
<a name="l00131"></a>00131                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__f.html" title="Standard body data (6DOF, float).">dtrack_body_type</a> *dtbt2 = &amp;act_body.at(i);
<a name="l00132"></a>00132                 dtbt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__f.html#414cd77fe2fdfe6c0f7bea974ab626a0" title="id number (starting with 0)">id</a> = dtbt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__d.html#8726fadd444fe2fd89260827bc8fda49" title="id number (starting with 0)">id</a>;
<a name="l00133"></a>00133                 dtbt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__f.html#391270a57896b8e16ab83470aa2b36d0" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = (float)dtbt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__d.html#a75a30ca6464997e959239340fb92782" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a>;
<a name="l00134"></a>00134                 for (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00135"></a>00135                         dtbt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__f.html#59734ea5d74bda8ce2290dfef780d46f" title="location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtbt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__d.html#2afbe2e7d1a3a6321f7e0add0e49ef4d" title="location (in mm)">loc</a>[j];
<a name="l00136"></a>00136                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 9; j++)
<a name="l00137"></a>00137                         dtbt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__f.html#cc047e6c99bd6ab28422125f0559f04a" title="rotation matrix (column-wise)">rot</a>[j] = (<span class="keywordtype">float</span>)dtbt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__d.html#2f719c84b5da6ae28af6267ba7506cdd" title="rotation matrix (column-wise)">rot</a>[j];
<a name="l00138"></a>00138         }
<a name="l00139"></a>00139         <span class="comment">// copy flystick data</span>
<a name="l00140"></a>00140         act_num_flystick = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#63ff9242cae145d0ca946222fb59118d" title="Get number of calibrated Flysticks.">getNumFlyStick</a>();
<a name="l00141"></a>00141         act_flystick.resize(act_num_flystick);
<a name="l00142"></a>00142         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; act_num_flystick; i++)
<a name="l00143"></a>00143         {
<a name="l00144"></a>00144                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html" title="A.R.T.Flystick data (6DOF + buttons, double).">DTrack_FlyStick_Type_d</a> *dtfst = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#8f9f93c81f1031d288ab9563bd1137d7" title="Get Flystick data.">getFlyStick</a>(i);
<a name="l00145"></a>00145                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html" title="A.R.T.Flystick data (6DOF + buttons, float).">dtrack_flystick_type</a> *dtfst2 = &amp;act_flystick.at(i);
<a name="l00146"></a>00146                 dtfst2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html#85bfe8d69dfa21acf8f2feffb74c8020" title="id number (starting with 0)">id</a> = dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#43308a2f26feb128213ac380dc605143" title="id number (starting with 0)">id</a>;
<a name="l00147"></a>00147                 dtfst2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html#d57253b31eae1840a5fa3e095816e140" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = (float)dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#662f6e671cee2530e75487b7640ea8e4" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a>;
<a name="l00148"></a>00148                 dtfst2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html#59dd803487fddd2634deec74f8e49b33" title="number of buttons">num_button</a> = dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#001604b379afe43319eb0ed34b97cc6a" title="number of buttons">num_button</a>;
<a name="l00149"></a>00149                 for (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="_lib_2_d_track_data_types_8h.html#840ae7d5339b542ace1cb5062d79089b" title="FlyStick data: maximum number of buttons.">DTRACK_FLYSTICK_MAX_BUTTON</a>; j++)
<a name="l00150"></a>00150                         dtfst2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html#4ccb003d775ee660e9a57c1f76d9401a" title="button state (1 pressed, 0 not pressed); 0 front, 1..n-1 right to left">button</a>[j] = dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#90fb5e28362fadea235075e1df471f9a" title="button state (1 pressed, 0 not pressed): 0 front, 1..n-1 right to left">button</a>[j];
<a name="l00151"></a>00151                 dtfst2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html#d1413e09d1350ef38f9eeddbf719e671" title="number of joystick values">num_joystick</a> = dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#351c3058431d93cdbf53bc2c9c66f6df" title="number of joystick values">num_joystick</a>;
<a name="l00152"></a>00152                 for (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="_lib_2_d_track_data_types_8h.html#644f793eaf3bc4a7f3d7967d9a243249" title="FlyStick data: maximum number of joystick values.">DTRACK_FLYSTICK_MAX_JOYSTICK</a>; j++)
<a name="l00153"></a>00153                         dtfst2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html#4d83d7953c32671a0bd6c23d62d2e7c5" title="joystick value (-1 &amp;lt;= joystick &amp;lt;= 1); 0 horizontal, 1 vertical">joystick</a>[j] = (<span class="keywordtype">float</span>)dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#f64264891b6c9d60fbe8eb37afc66963" title="joystick value (-1 &amp;lt;= joystick &amp;lt;= 1); 0 horizontal, 1 vertical">joystick</a>[j];
<a name="l00154"></a>00154                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00155"></a>00155                         dtfst2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html#689de9eabcc3615c94106a98a18dba91" title="location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#d57fcd5f54bc7f68d28544736d42ce40" title="location (in mm)">loc</a>[j];
<a name="l00156"></a>00156                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 9; j++)
<a name="l00157"></a>00157                         dtfst2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html#0ab07a2432c159e7f94f8fd9c938ad57" title="rotation matrix (column-wise)">rot</a>[j] = (<span class="keywordtype">float</span>)dtfst-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__d.html#965ef5cc26b6db175664bf0557fe1c24" title="rotation matrix (column-wise)">rot</a>[j];
<a name="l00158"></a>00158         }
<a name="l00159"></a>00159         <span class="comment">// copy measurement tool data</span>
<a name="l00160"></a>00160         act_num_meatool = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#89a94790ddc9d7eb7849c6eb837345b3" title="Get number of calibrated measurement tools.">getNumMeaTool</a>();
<a name="l00161"></a>00161         act_meatool.resize(act_num_meatool);
<a name="l00162"></a>00162         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; act_num_meatool; i++)
<a name="l00163"></a>00163         {
<a name="l00164"></a>00164                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html" title="Measurement tool data (6DOF + buttons, double).">DTrack_MeaTool_Type_d</a> *dtmtt = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#228c5f83c54fcdff81633d87bdbba6f4" title="Get measurement tool data.">getMeaTool</a>(i);
<a name="l00165"></a>00165                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html" title="Measurement tool data (6DOF + buttons, float).">dtrack_meatool_type</a> *dtmtt2 = &amp;act_meatool.at(i);
<a name="l00166"></a>00166                 dtmtt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html#1ad0ba29a4cc81bc5d1265e5b4b834ad" title="id number (starting with 0)">id</a> = dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#955edf61e5e4b0149567a7d1e8976326" title="id number (starting with 0)">id</a>;
<a name="l00167"></a>00167                 dtmtt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html#9f22d0b360caa85fcdbce361f407618d" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = (float)dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#b40454c4141106f3a237d7185d1e6c28" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a>;
<a name="l00168"></a>00168                 dtmtt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html#94da462be0d63b6524d0b2599fa05e75" title="number of buttons">num_button</a> = dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#eef8d0b155e79ba0701f9c6fc0e1f753" title="number of buttons">num_button</a>;
<a name="l00169"></a>00169                 for (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="_lib_2_d_track_data_types_8h.html#c87e25e7155cf68892fb2de937691188" title="Measurement tool data: maximum number of buttons.">DTRACK_MEATOOL_MAX_BUTTON</a>; j++)
<a name="l00170"></a>00170                         dtmtt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html#0a8aab5b784fde9891c60cd7fcb6f262" title="button state (1 pressed, 0 not pressed)">button</a>[j] = dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#8591d728805935050489bfc40329e28b" title="button state (1 pressed, 0 not pressed)">button</a>[j];
<a name="l00171"></a>00171                 for (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00172"></a>00172                         dtmtt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html#aebc3dab85e3b69ee88cfbeb4d0703ca" title="location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#64fc92b0feb9a12110fc5346876ab65e" title="location (in mm)">loc</a>[j];
<a name="l00173"></a>00173                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 9; j++)
<a name="l00174"></a>00174                         dtmtt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html#e431619d9ed639174e2b187a98cef8fd" title="rotation matrix (column-wise)">rot</a>[j] = (<span class="keywordtype">float</span>)dtmtt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__d.html#8739b908f1f28f7229bd0c453daad9a9" title="rotation matrix (column-wise)">rot</a>[j];
<a name="l00175"></a>00175         }
<a name="l00176"></a>00176         <span class="comment">// copy hand data</span>
<a name="l00177"></a>00177         act_num_hand = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#930d95296ba7fe81ff5ad72c5f33ece9" title="Get number of calibrated Fingertracking hands (as far as known).">getNumHand</a>();
<a name="l00178"></a>00178         act_hand.resize(act_num_hand);
<a name="l00179"></a>00179         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; act_num_hand; i++)
<a name="l00180"></a>00180         {
<a name="l00181"></a>00181                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html" title="A.R.T.Fingertracking hand data (6DOF + fingers, double).">DTrack_Hand_Type_d</a> *dtht = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#98e585109d6c150249da6ca1983f3fc2" title="Get Fingertracking hand data.">getHand</a>(i);
<a name="l00182"></a>00182                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html" title="A.R.T.Fingertracking hand data (6DOF + fingers, float).">dtrack_hand_type</a> *dtht2 = &amp;act_hand.at(i);
<a name="l00183"></a>00183                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#32e6c8dba22d9f3de50bd532f69f3ebd" title="id number (starting with 0)">id</a> = dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#dee098f364c513147eb85b4a83cd1f2d" title="id number (starting with 0)">id</a>;
<a name="l00184"></a>00184                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#0e47d9656b6c04087f7af6371451a91a" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = (float)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#308ec86d553cc0a2b13dfe800eb15966" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a>;
<a name="l00185"></a>00185                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#e7511c247a4a735995dd94ead3212aaa" title="left (0) or right (1) hand">lr</a> = dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#521d4ce97454f419f13efc494667e04a" title="left (0) or right (1) hand">lr</a>;
<a name="l00186"></a>00186                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#4fe7990638c9319d2987dbc125a975bd" title="number of fingers (maximum 5)">nfinger</a> = dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2bd9f3c566b0abf0cd8e0afe711db0c5" title="number of fingers (maximum 5)">nfinger</a>;
<a name="l00187"></a>00187                 for (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00188"></a>00188                         dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#f67cad29dff6587c75c533e87e39b785" title="back of the hand: location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#da661f39a64dd30132077d092d9006f6" title="back of the hand: location (in mm)">loc</a>[j];
<a name="l00189"></a>00189                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 9; j++)
<a name="l00190"></a>00190                         dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#6fb3dbe3d715ae40db7567254dadfa29" title="back of the hand: rotation matrix (column-wise)">rot</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#34f9e9a90498c51c6c1578957e8db906" title="back of the hand: rotation matrix (column-wise)">rot</a>[j];
<a name="l00191"></a>00191                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="_lib_2_d_track_data_types_8h.html#dcb90cb9233d7036a6da76b3748396b7" title="Fingertracking hand data: maximum number of fingers.">DTRACK_HAND_MAX_FINGER</a>; k++)
<a name="l00192"></a>00192                 {
<a name="l00193"></a>00193                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00194"></a>00194                                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#ddef79226db3041481bca341276dfa07" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#f67cad29dff6587c75c533e87e39b785" title="back of the hand: location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2571adc8e75d6f91449ccd35d9e0d1d2" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#da661f39a64dd30132077d092d9006f6" title="back of the hand: location (in mm)">loc</a>[j];
<a name="l00195"></a>00195                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 9; j++)
<a name="l00196"></a>00196                                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#ddef79226db3041481bca341276dfa07" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#6fb3dbe3d715ae40db7567254dadfa29" title="back of the hand: rotation matrix (column-wise)">rot</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2571adc8e75d6f91449ccd35d9e0d1d2" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#34f9e9a90498c51c6c1578957e8db906" title="back of the hand: rotation matrix (column-wise)">rot</a>[j];
<a name="l00197"></a>00197                         dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#ddef79226db3041481bca341276dfa07" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#00253049beea095e1546055ec8055b9e" title="radius of tip">radiustip</a> = (float)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2571adc8e75d6f91449ccd35d9e0d1d2" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#82525b413f8a65f180f8fbcd7a6072fc" title="radius of tip">radiustip</a>;
<a name="l00198"></a>00198                         for (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00199"></a>00199                                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#ddef79226db3041481bca341276dfa07" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#2fb8ee1a44e7524c882fdc9c52711de6" title="length of phalanxes; order: outermost, middle, innermost">lengthphalanx</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2571adc8e75d6f91449ccd35d9e0d1d2" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#1a77ce15f7e4e4f47847895661f84772" title="length of phalanxes; order: outermost, middle, innermost">lengthphalanx</a>[j];
<a name="l00200"></a>00200                         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 2; j++)
<a name="l00201"></a>00201                                 dtht2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#ddef79226db3041481bca341276dfa07" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#844c5997be19885de65f4e5bc14b7257" title="angle between phalanxes">anglephalanx</a>[j] = (<span class="keywordtype">float</span>)dtht-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#2571adc8e75d6f91449ccd35d9e0d1d2" title="order: thumb, index finger, middle finger, ...">finger</a>[k].<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__d.html#a73c9e067134f4dbf716f8d5ca973a30" title="angle between phalanxes">anglephalanx</a>[j];
<a name="l00202"></a>00202                 }
<a name="l00203"></a>00203         }
<a name="l00204"></a>00204         <span class="comment">// copy marker data</span>
<a name="l00205"></a>00205         act_num_marker = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#d30253ecbf974a67c3de4ef0f4fa5b2f" title="Get number of tracked single markers.">getNumMarker</a>();
<a name="l00206"></a>00206         act_marker.resize(act_num_marker);
<a name="l00207"></a>00207         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; act_num_marker; i++)
<a name="l00208"></a>00208         {
<a name="l00209"></a>00209                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__d.html" title="Single marker data (3DOF, double).">DTrack_Marker_Type_d</a> *dtmt = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#7095c9ba464b2e725ac08bbf0f57064a" title="Get single marker data.">getMarker</a>(i);
<a name="l00210"></a>00210                 <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html" title="Single marker data (3DOF, float).">dtrack_marker_type</a> *dtmt2 = &amp;act_marker.at(i);
<a name="l00211"></a>00211                 dtmt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html#ab253639b12148efce9659b0544035a2" title="id number (starting with 1)">id</a> = dtmt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__d.html#e56b8ade90cdd348299ce09cc341649b" title="id number (starting with 1)">id</a>;
<a name="l00212"></a>00212                 dtmt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html#b3dc44889cf05a31a080863897015812" title="quality (0.0 &amp;lt;= qu &amp;lt;= 1.0; -1 not tracked)">quality</a> = (float)dtmt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__d.html#621deda03fb6a34cbfd01c5780961902" title="quality (0.0 &amp;lt;= qu &amp;lt;= 1.0; -1 not tracked)">quality</a>;
<a name="l00213"></a>00213                 for (<span class="keywordtype">int</span> j = 0; j &lt; 3; j++)
<a name="l00214"></a>00214                         dtmt2-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html#c1b53ff3df025255465a4a52a5b7047e" title="location (in mm)">loc</a>[j] = (<span class="keywordtype">float</span>)dtmt-&gt;<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__d.html#b416abda3674fa04f70cc55981893cdb" title="location (in mm)">loc</a>[j];
<a name="l00215"></a>00215         }
<a name="l00216"></a>00216         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00217"></a>00217 }
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 
<a name="l00226"></a><a class="code" href="class_d_track.html#8cc1d610dce4e92ffcf403931d9e6213">00226</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_d_track.html#8cc1d610dce4e92ffcf403931d9e6213" title="Get frame counter.">DTrack::get_framecounter</a>()
<a name="l00227"></a>00227 {
<a name="l00228"></a>00228         <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#afd8e38dcacac72c5f4efd02de2d08a4" title="Get frame counter.">getFrameCounter</a>();
<a name="l00229"></a>00229 }
<a name="l00230"></a>00230 
<a name="l00231"></a>00231 
<a name="l00238"></a><a class="code" href="class_d_track.html#267e25a7ba9f101a1932568d586279ee">00238</a> <span class="keywordtype">double</span> <a class="code" href="class_d_track.html#267e25a7ba9f101a1932568d586279ee" title="Get timestamp.">DTrack::get_timestamp</a>()
<a name="l00239"></a>00239 {
<a name="l00240"></a>00240         <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#6be18e0424cb9e740474c1a5681269c4" title="Get timestamp.">getTimeStamp</a>();
<a name="l00241"></a>00241 }
<a name="l00242"></a>00242 
<a name="l00243"></a>00243 
<a name="l00250"></a><a class="code" href="class_d_track.html#085b30e73e03b3e3a598360707df556c">00250</a> <span class="keywordtype">int</span> <a class="code" href="class_d_track.html#085b30e73e03b3e3a598360707df556c" title="Get number of standard bodies.">DTrack::get_num_body</a>()
<a name="l00251"></a>00251 {
<a name="l00252"></a>00252         <span class="keywordflow">return</span> act_num_body;
<a name="l00253"></a>00253 }
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 
<a name="l00263"></a><a class="code" href="class_d_track.html#e2ff4ccfda243c18f6d95d0904b5a31a">00263</a> <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__f.html" title="Standard body data (6DOF, float).">dtrack_body_type</a> <a class="code" href="class_d_track.html#e2ff4ccfda243c18f6d95d0904b5a31a" title="Get 6d data.">DTrack::get_body</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)
<a name="l00264"></a>00264 {
<a name="l00265"></a>00265         <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &lt; act_num_body)
<a name="l00266"></a>00266         {
<a name="l00267"></a>00267                 <span class="keywordflow">return</span> act_body[id];
<a name="l00268"></a>00268         }
<a name="l00269"></a>00269         <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__f.html" title="Standard body data (6DOF, float).">dtrack_body_type</a> dummy;
<a name="l00270"></a>00270         memset(&amp;dummy, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__f.html" title="Standard body data (6DOF, float).">dtrack_body_type</a>));
<a name="l00271"></a>00271         dummy.<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__f.html#414cd77fe2fdfe6c0f7bea974ab626a0" title="id number (starting with 0)">id</a> = id;
<a name="l00272"></a>00272         dummy.<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___body___type__f.html#391270a57896b8e16ab83470aa2b36d0" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = -1;
<a name="l00273"></a>00273         <span class="keywordflow">return</span> dummy;
<a name="l00274"></a>00274 }
<a name="l00275"></a>00275 
<a name="l00276"></a>00276 
<a name="l00283"></a><a class="code" href="class_d_track.html#18a653a8f4e9dd01afd94d2f11642a5e">00283</a> <span class="keywordtype">int</span> <a class="code" href="class_d_track.html#18a653a8f4e9dd01afd94d2f11642a5e" title="Get number of flysticks.">DTrack::get_num_flystick</a>()
<a name="l00284"></a>00284 {
<a name="l00285"></a>00285         <span class="keywordflow">return</span> act_num_flystick;
<a name="l00286"></a>00286 }
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 
<a name="l00296"></a><a class="code" href="class_d_track.html#2462f9ba6f0a753aca52f7fd3eebbe49">00296</a> <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html" title="A.R.T.Flystick data (6DOF + buttons, float).">dtrack_flystick_type</a> <a class="code" href="class_d_track.html#2462f9ba6f0a753aca52f7fd3eebbe49" title="Get 6df data.">DTrack::get_flystick</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)
<a name="l00297"></a>00297 {
<a name="l00298"></a>00298         <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &lt; act_num_flystick)
<a name="l00299"></a>00299         {
<a name="l00300"></a>00300                 <span class="keywordflow">return</span> act_flystick[id];
<a name="l00301"></a>00301         }
<a name="l00302"></a>00302         <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html" title="A.R.T.Flystick data (6DOF + buttons, float).">dtrack_flystick_type</a> dummy;
<a name="l00303"></a>00303         memset(&amp;dummy, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html" title="A.R.T.Flystick data (6DOF + buttons, float).">dtrack_flystick_type</a>));
<a name="l00304"></a>00304         dummy.<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html#85bfe8d69dfa21acf8f2feffb74c8020" title="id number (starting with 0)">id</a> = id;
<a name="l00305"></a>00305         dummy.<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___fly_stick___type__f.html#d57253b31eae1840a5fa3e095816e140" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = -1;
<a name="l00306"></a>00306         <span class="keywordflow">return</span> dummy;
<a name="l00307"></a>00307 }
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 
<a name="l00316"></a><a class="code" href="class_d_track.html#c97597f11a862dd61ca35d08e0e907e5">00316</a> <span class="keywordtype">int</span> <a class="code" href="class_d_track.html#c97597f11a862dd61ca35d08e0e907e5" title="Get number of measurement tools.">DTrack::get_num_meatool</a>()
<a name="l00317"></a>00317 {
<a name="l00318"></a>00318         <span class="keywordflow">return</span> act_num_meatool;
<a name="l00319"></a>00319 }
<a name="l00320"></a>00320 
<a name="l00321"></a>00321 
<a name="l00329"></a><a class="code" href="class_d_track.html#2cf74209f9254993093804462ed08a9a">00329</a> <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html" title="Measurement tool data (6DOF + buttons, float).">dtrack_meatool_type</a> <a class="code" href="class_d_track.html#2cf74209f9254993093804462ed08a9a" title="Get 6dmt data.">DTrack::get_meatool</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)
<a name="l00330"></a>00330 {
<a name="l00331"></a>00331         <span class="keywordflow">if</span> (<span class="keywordtype">id</span> &lt; act_num_meatool)
<a name="l00332"></a>00332         {
<a name="l00333"></a>00333                 <span class="keywordflow">return</span> act_meatool[id];
<a name="l00334"></a>00334         }
<a name="l00335"></a>00335         <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html" title="Measurement tool data (6DOF + buttons, float).">dtrack_meatool_type</a> dummy;
<a name="l00336"></a>00336         memset(&amp;dummy, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html" title="Measurement tool data (6DOF + buttons, float).">dtrack_meatool_type</a>));
<a name="l00337"></a>00337         dummy.<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html#1ad0ba29a4cc81bc5d1265e5b4b834ad" title="id number (starting with 0)">id</a> = id;
<a name="l00338"></a>00338         dummy.<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___mea_tool___type__f.html#9f22d0b360caa85fcdbce361f407618d" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = -1;
<a name="l00339"></a>00339         <span class="keywordflow">return</span> dummy;
<a name="l00340"></a>00340 }
<a name="l00341"></a>00341 
<a name="l00342"></a>00342 
<a name="l00349"></a><a class="code" href="class_d_track.html#a63ea304d4880ba45240f7f44206cf55">00349</a> <span class="keywordtype">int</span> <a class="code" href="class_d_track.html#a63ea304d4880ba45240f7f44206cf55" title="Get number of fingertracking hands.">DTrack::get_num_hand</a>()
<a name="l00350"></a>00350 {
<a name="l00351"></a>00351         <span class="keywordflow">return</span> act_num_hand;
<a name="l00352"></a>00352 }
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 
<a name="l00362"></a><a class="code" href="class_d_track.html#ec5df4db9ba7dc3345aa75eea5bd08b8">00362</a> <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html" title="A.R.T.Fingertracking hand data (6DOF + fingers, float).">dtrack_hand_type</a> <a class="code" href="class_d_track.html#ec5df4db9ba7dc3345aa75eea5bd08b8" title="Get gl data.">DTrack::get_hand</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)
<a name="l00363"></a>00363 {
<a name="l00364"></a>00364         <span class="keywordflow">if</span>(<span class="keywordtype">id</span> &lt; act_num_hand){
<a name="l00365"></a>00365                 <span class="keywordflow">return</span> act_hand[id];
<a name="l00366"></a>00366         }
<a name="l00367"></a>00367         <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html" title="A.R.T.Fingertracking hand data (6DOF + fingers, float).">dtrack_hand_type</a> dummy;
<a name="l00368"></a>00368         memset(&amp;dummy, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html" title="A.R.T.Fingertracking hand data (6DOF + fingers, float).">dtrack_hand_type</a>));
<a name="l00369"></a>00369         dummy.<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#32e6c8dba22d9f3de50bd532f69f3ebd" title="id number (starting with 0)">id</a> = id;
<a name="l00370"></a>00370         dummy.<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___hand___type__f.html#0e47d9656b6c04087f7af6371451a91a" title="quality (0 &amp;lt;= qu &amp;lt;= 1, no tracking if -1)">quality</a> = -1;
<a name="l00371"></a>00371         <span class="keywordflow">return</span> dummy;
<a name="l00372"></a>00372 }
<a name="l00373"></a>00373 
<a name="l00374"></a>00374 
<a name="l00381"></a><a class="code" href="class_d_track.html#9991f7cd620f57e95287e9ebf6220b46">00381</a> <span class="keywordtype">int</span> <a class="code" href="class_d_track.html#9991f7cd620f57e95287e9ebf6220b46" title="Get number of single markers.">DTrack::get_num_marker</a>()
<a name="l00382"></a>00382 {
<a name="l00383"></a>00383         <span class="keywordflow">return</span> act_num_marker;
<a name="l00384"></a>00384 }
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 
<a name="l00394"></a><a class="code" href="class_d_track.html#81f16f1858d97df6f5acdd10b6cecdbc">00394</a> <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html" title="Single marker data (3DOF, float).">dtrack_marker_type</a> <a class="code" href="class_d_track.html#81f16f1858d97df6f5acdd10b6cecdbc" title="Get 3d data.">DTrack::get_marker</a>(<span class="keywordtype">int</span> index)
<a name="l00395"></a>00395 {
<a name="l00396"></a>00396         <span class="keywordflow">if</span>(index &gt;= 0 &amp;&amp; index &lt; act_num_marker){
<a name="l00397"></a>00397                 <span class="keywordflow">return</span> act_marker[index];
<a name="l00398"></a>00398         }
<a name="l00399"></a>00399         <a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html" title="Single marker data (3DOF, float).">dtrack_marker_type</a> dummy;
<a name="l00400"></a>00400         memset(&amp;dummy, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html" title="Single marker data (3DOF, float).">dtrack_marker_type</a>));
<a name="l00401"></a>00401         dummy.<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html#ab253639b12148efce9659b0544035a2" title="id number (starting with 1)">id</a> = 0;
<a name="l00402"></a>00402         dummy.<a class="code" href="struct_d_track_s_d_k___datatypes_1_1_d_track___marker___type__f.html#b3dc44889cf05a31a080863897015812" title="quality (0.0 &amp;lt;= qu &amp;lt;= 1.0; -1 not tracked)">quality</a> = -1;
<a name="l00403"></a>00403         <span class="keywordflow">return</span> dummy;
<a name="l00404"></a>00404 }
<a name="l00405"></a>00405 
<a name="l00406"></a>00406 
<a name="l00413"></a><a class="code" href="class_d_track.html#0967363765c6182c2733abb3ec1f841b">00413</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_track.html#0967363765c6182c2733abb3ec1f841b" title="Control cameras by remote commands to DTrack (UDP; ASCII protocol; Default off).">DTrack::cmd_cameras</a>(<span class="keywordtype">bool</span> onoff)
<a name="l00414"></a>00414 {
<a name="l00415"></a>00415         <span class="keywordflow">if</span> (!<a class="code" href="class_d_track.html#0ee909d3ec98043651445825928dd6a1" title="Check if initialization was successfull.">valid</a>())
<a name="l00416"></a>00416                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00417"></a>00417         remoteCameras = onoff;
<a name="l00418"></a>00418         <span class="keywordflow">if</span> (remoteCameras)
<a name="l00419"></a>00419         {
<a name="l00420"></a>00420                 <span class="comment">// switch cameras on</span>
<a name="l00421"></a>00421                 <span class="keywordflow">if</span> (remoteTracking)
<a name="l00422"></a>00422                 {
<a name="l00423"></a>00423                         sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(<span class="stringliteral">"dtrack 10 3"</span>);
<a name="l00424"></a>00424                         <span class="keywordflow">if</span> (remoteSending)
<a name="l00425"></a>00425                         {
<a name="l00426"></a>00426                                 <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(<span class="stringliteral">"dtrack 31"</span>);
<a name="l00427"></a>00427                         }
<a name="l00428"></a>00428                 } <span class="keywordflow">else</span> {
<a name="l00429"></a>00429                         sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(<span class="stringliteral">"dtrack 10 1"</span>);
<a name="l00430"></a>00430                 }
<a name="l00431"></a>00431         } <span class="keywordflow">else</span> {
<a name="l00432"></a>00432                 <span class="comment">// switch cameras off</span>
<a name="l00433"></a>00433                 <span class="keywordflow">if</span>(remoteSending)
<a name="l00434"></a>00434                 {
<a name="l00435"></a>00435                         sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(<span class="stringliteral">"dtrack 32"</span>);
<a name="l00436"></a>00436                 }
<a name="l00437"></a>00437                 <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(<span class="stringliteral">"dtrack 10 0"</span>);
<a name="l00438"></a>00438         }
<a name="l00439"></a>00439         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00440"></a>00440 }
<a name="l00441"></a>00441 
<a name="l00442"></a>00442 
<a name="l00449"></a><a class="code" href="class_d_track.html#e12410e27c8a91af5836698d085474e5">00449</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_track.html#e12410e27c8a91af5836698d085474e5" title="Control tracking calculation by remote commands to DTrack (UDP, ASCII protocol; Default:...">DTrack::cmd_tracking</a>(<span class="keywordtype">bool</span> onoff)
<a name="l00450"></a>00450 {
<a name="l00451"></a>00451         <span class="keywordflow">if</span> (!<a class="code" href="class_d_track.html#0ee909d3ec98043651445825928dd6a1" title="Check if initialization was successfull.">valid</a>())
<a name="l00452"></a>00452                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00453"></a>00453         remoteTracking = onoff;
<a name="l00454"></a>00454         <span class="keywordflow">if</span> (remoteCameras)
<a name="l00455"></a>00455         {
<a name="l00456"></a>00456                 <span class="keywordflow">if</span> (remoteTracking)
<a name="l00457"></a>00457                 {
<a name="l00458"></a>00458                         <span class="keywordtype">bool</span> res = sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(<span class="stringliteral">"dtrack 10 3"</span>);
<a name="l00459"></a>00459 <span class="preprocessor">                        #ifdef OS_UNIX</span>
<a name="l00460"></a>00460 <span class="preprocessor"></span>                                usleep(1200000);     <span class="comment">// some delay (actually only necessary for older DTrack versions...)</span>
<a name="l00461"></a>00461 <span class="preprocessor">                        #endif</span>
<a name="l00462"></a>00462 <span class="preprocessor"></span><span class="preprocessor">                        #ifdef OS_WIN</span>
<a name="l00463"></a>00463 <span class="preprocessor"></span>                                Sleep(1200);  <span class="comment">// some delay (actually only necessary for older DTrack versions...)</span>
<a name="l00464"></a>00464 <span class="preprocessor">                        #endif</span>
<a name="l00465"></a>00465 <span class="preprocessor"></span>                        <span class="keywordflow">return</span> res;
<a name="l00466"></a>00466                 } <span class="keywordflow">else</span> {
<a name="l00467"></a>00467                         <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(<span class="stringliteral">"dtrack 10 1"</span>);
<a name="l00468"></a>00468                 }
<a name="l00469"></a>00469         }
<a name="l00470"></a>00470         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00471"></a>00471 }
<a name="l00472"></a>00472 
<a name="l00479"></a><a class="code" href="class_d_track.html#bb640a529b53e3f969f7c81da54718c2">00479</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_track.html#bb640a529b53e3f969f7c81da54718c2" title="Control sending of UDP output data by remote commands to DTrack (UDP, ASCII protocol;...">DTrack::cmd_sending_data</a>(<span class="keywordtype">bool</span> onoff)
<a name="l00480"></a>00480 {
<a name="l00481"></a>00481         <span class="keywordflow">if</span> (!<a class="code" href="class_d_track.html#0ee909d3ec98043651445825928dd6a1" title="Check if initialization was successfull.">valid</a>())
<a name="l00482"></a>00482                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00483"></a>00483         remoteSending = onoff;
<a name="l00484"></a>00484         <span class="keywordflow">if</span> (!remoteCameras)
<a name="l00485"></a>00485                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00486"></a>00486         <span class="comment">// cameras are on, so send command</span>
<a name="l00487"></a>00487         <span class="keywordflow">if</span> (remoteSending)
<a name="l00488"></a>00488         {
<a name="l00489"></a>00489                 <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(<span class="stringliteral">"dtrack 31"</span>);
<a name="l00490"></a>00490         }
<a name="l00491"></a>00491         <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(<span class="stringliteral">"dtrack 32"</span>);
<a name="l00492"></a>00492 }
<a name="l00493"></a>00493 
<a name="l00494"></a>00494 
<a name="l00501"></a><a class="code" href="class_d_track.html#e71032d5a8102988f6ac2a2450f8da2c">00501</a> <span class="keywordtype">bool</span> <a class="code" href="class_d_track.html#e71032d5a8102988f6ac2a2450f8da2c" title="Control sending of a fixed number of UDP output data frames by remote commands to...">DTrack::cmd_sending_fixed_data</a>(<span class="keywordtype">int</span> frames)
<a name="l00502"></a>00502 {
<a name="l00503"></a>00503         <span class="keywordflow">if</span> (!<a class="code" href="class_d_track.html#0ee909d3ec98043651445825928dd6a1" title="Check if initialization was successfull.">valid</a>())
<a name="l00504"></a>00504                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00505"></a>00505         <span class="keywordflow">if</span> (remoteCameras)
<a name="l00506"></a>00506         {
<a name="l00507"></a>00507                 <span class="comment">// cameras are on, so send command</span>
<a name="l00508"></a>00508                 std::stringstream cmd;
<a name="l00509"></a>00509                 cmd &lt;&lt; <span class="stringliteral">"dtrack 33 "</span> &lt;&lt; frames;
<a name="l00510"></a>00510                 <span class="keywordflow">return</span> sdk-&gt;<a class="code" href="class_d_track_s_d_k.html#a85a22f93bbfd44d610f1ddc82059cd9" title="Send DTrack command via UDP.">sendCommand</a>(cmd.str());
<a name="l00511"></a>00511         }
<a name="l00512"></a>00512         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00513"></a>00513 }
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jan 27 09:47:30 2012 for Doxygen by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
